environments:
  default:
    values:
      - ./environments/default.yaml

---

templates:
  default: &default
    missingFileHandler: Debug
    valuesTemplate:
      - './values/{{ "{{" }} splitList "/" .Release.Chart | last {{ "}}" }}.chart.yaml'
      - './values/{{ "{{" }} splitList "/" .Release.Chart | last {{ "}}" }}.chart.yaml.gotmpl'
      - './values/{{ "{{" }} .Release.Name {{ "}}" }}.yaml'
      - './values/{{ "{{" }} .Release.Name {{ "}}" }}.yaml.gotmpl'
      - './secrets/{{ "{{" }} splitList "/" .Release.Chart | last {{ "}}" }}.chart.yaml'
      - './secrets/{{ "{{" }} splitList "/" .Release.Chart | last {{ "}}" }}.chart.yaml.gotmpl'
      - './secrets/{{ "{{" }} .Release.Name {{ "}}" }}.yaml'
      - './secrets/{{ "{{" }} .Release.Name {{ "}}" }}.yaml.gotmpl'

repositories:
  - name: azuredisk-csi-driver
    url: https://raw.githubusercontent.com/kubernetes-sigs/azuredisk-csi-driver/master/charts

  - name: k8s-as-helm
    url: https://ameijer.github.io/k8s-as-helm/

  - name: kepler
    url: https://sustainable-computing-io.github.io/kepler-helm-chart

releases:
  # - <<: *default
  #   name: azuredisk-csi-driver
  #   namespace: kube-system
  #   chart: azuredisk-csi-driver/azuredisk-csi-driver
  #   version: ^1.30.0

  # - <<: *default
  #   name: azure-cloud-provider
  #   namespace: kube-system
  #   chart: k8s-as-helm/secret
  #   version: ^1.0.4

  - <<: *default
    name: kepler
    namespace: monitoring
    chart: kepler/kepler
    version: '0.5.5'
